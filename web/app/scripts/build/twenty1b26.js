/*! twenty v0.0.1 | Alphan Gunaydin - @ialphan */
"use strict";var causeLeft=null,causeRight=null,causeMain=null;$(function(){var e=null,_=$(".swiper__container__right .swiper-wrapper").find(".swiper-slide").length-1,a=$("body").hasClass("mobile")||$(window).width()<=767;e={down:function(){causeLeft.slideNext(),causeRight.slidePrev()},up:function(){causeLeft.slidePrev(),causeRight.slideNext()},updateDayListItem:function(e){$(".nav__days__list__item").removeClass("nav__days__list__item--selected"),$(".nav__days__list__item.day-"+e).addClass("nav__days__list__item--selected")}},causeLeft=new Swiper(".swiper__container__left",{centeredSlides:1,direction:"vertical",grabCursor:0,initialSlide:0,keyboardControl:0,mousewheelControl:1,mousewheelInvert:1,mousewheelEventsTarged:".swiper__container",mousewheelForceToAxis:1,nested:0,noSwiping:0,resistanceRatio:0,simulateTouch:0,slidesPerView:1,spaceBetween:0,speed:750,onSlideChangeStart:function(_){var s=$(".swiper__container__left").find(".swiper-slide-active").data("day");if(e.updateDayListItem(s),0===s&&($(".nav__days").removeClass("nav__days--visible"),$(".nav__contact-us").removeClass("nav__contact-us--visible"),$(".nav__days__up").removeClass("nav__days__up--visible"),$(".nav__days__down").removeClass("nav__days__down--visible"),a&&($(".menu").removeClass("menu--visible menu--expanded"),$(".curtain").removeClass("curtain--visible"))),twenty.dayRequested?(0!==s&&(a||($(".nav__days").addClass("nav__days--visible"),$(".nav__contact-us").addClass("nav__contact-us--visible"),$(".nav__days__up").addClass("nav__days__up--visible"),$(".nav__days__down").addClass("nav__days__down--visible"))),a&&("prev"!==_.swipeDirection&&"next"!==_.swipeDirection||("prev"===_.swipeDirection?causeRight.slideNext():"next"===_.swipeDirection&&causeRight.slidePrev()))):(a&&("prev"===_.swipeDirection?causeRight.slideNext():"next"===_.swipeDirection&&causeRight.slidePrev()),0!==s&&(a?$(".menu").addClass("menu--visible"):($(".nav__days").addClass("nav__days--visible"),$(".nav__contact-us").addClass("nav__contact-us--visible"),$(".nav__days__up").addClass("nav__days__up--visible"),$(".nav__days__down").addClass("nav__days__down--visible")))),0!==s){var i=$(".nav__days__list"),t=$(".nav__days__list__item--selected");$(".nav__days__list__item").length===$(".nav__days__list__item--selected").index()+1?$(".nav__days__down").addClass("nav__days__down--disabled"):$(".nav__days__down").removeClass("nav__days__down--disabled"),i.animate({scrollTop:t.offset().top-i.offset().top+i.scrollTop()})}setTimeout(function(){var e=$(".swiper__container__right").find(".swiper-slide-active");dataLayer.push({event:"virtualPageview",slideActive:window.location.pathname,slideIndex:0===$(e).data("day")?"0":"",virtualPageTitle:$("title").text(),virtualPageURL:$(e).data("shorturl")})},10)}}),causeRight=new Swiper(".swiper__container__right",{centeredSlides:1,direction:"vertical",grabCursor:0,initialSlide:_,keyboardControl:0,mousewheelControl:1,mousewheelInvert:0,mousewheelEventsTarged:".swiper__container",mousewheelForceToAxis:1,nested:0,noSwiping:0,resistanceRatio:0,simulateTouch:0,slidesPerView:1,spaceBetween:0,speed:750}),causeMain=new Swiper(".swiper__container",{direction:"vertical",grabCursor:0,mousewheelControl:1,mousewheelForceToAxis:1,mousewheelInvert:0,resistanceRatio:0,simulateTouch:1,slidesPerView:1,spaceBetween:0,visibilityFullFit:1,onInit:function(){if(twenty.dayRequested){var e=$(".nav__days__list__item.day-"+twenty.dayIndex);$(".nav__days__list__item").removeClass("nav__days__list__item--selected"),$(e).addClass("nav__days__list__item--selected"),causeLeft.slideTo($(e).data("cause-left"),0),causeRight.slideTo($(e).data("cause-right"),0),$(".swiper__container").addClass("swiper__container--visible")}else $(".swiper__container").addClass("swiper__container--visible"),setTimeout(function(){var e=$(".swiper__container__right").find(".swiper-slide-active");dataLayer.push({event:"virtualPageview",slideActive:$(e).data("shorturl"),slideIndex:0===$(e).data("day")?"0":"",virtualPageTitle:$("title").text(),virtualPageURL:"/"})},10)},onTouchStart:function(_){a||setTimeout(function(){"prev"===_.swipeDirection?e.down():"next"===_.swipeDirection&&e.up()},10)}}),$(document).on("click",".nav__home__logo, .nav__days__list__item, .nav__days__up, .nav__days__down, .nav__contact-us, .ctp__cta__play, .cause__left__footer__alt, .today__cta__arrow-down, .video__container__main__frame__video__close, .video__container__alt__main__frame__video__close, .menu, .curtain",function(){if($(this).hasClass("nav__home__logo"))a&&($(".menu").removeClass("menu--visible menu--expanded"),$(".curtain").removeClass("curtain--visible")),$(".nav__days__list__item").removeClass("nav__days__list__item--selected"),causeLeft.slideTo(0,0),causeRight.slideTo(_,0);else if($(this).hasClass("nav__days__list__item")){if($(this).hasClass("nav__days__list__item--selected"))return!1;$(".nav__days__list__item").removeClass("nav__days__list__item--selected"),$(this).addClass("nav__days__list__item--selected"),causeLeft.slideTo($(this).data("cause-left")),causeRight.slideTo($(this).data("cause-right")),setTimeout(function(){var e=$(".nav__days__list"),_=$(".nav__days__list__item--selected");e.animate({scrollTop:_.offset().top-e.offset().top+e.scrollTop()})},500)}else if($(this).hasClass("nav__days__up")||$(this).hasClass("nav__days__down"))causeLeft.animating||causeRight.animating||($(this).hasClass("nav__days__up")?e.up():e.down());else if($(this).hasClass("nav__contact-us"))window.open("http://www.ctpboston.com/contact","_blank");else if($(this).hasClass("ctp__cta__play")||$(this).hasClass("cause__left__footer__alt")){var s=this;if(!a)return $(".video__container").addClass("video__container--visible"),$(".video__container__main__left").addClass("video__container__main__left--visible"),$(".video__container__main__right").addClass("video__container__main__right--visible"),setTimeout(function(){var e=null;$(".video__container__main__frame__video__close").addClass("video__container__main__frame__video__close--visible"),$(".video__container__main__frame__video__iframe").addClass("video__container__main__frame__video__iframe--visible"),$(s).hasClass("ctp__cta__play")?e=twenty.videoSourcePost:$(s).hasClass("cause__left__footer__alt")&&(e=twenty.videoSource,dataLayer.push({event:"20causes",eventcat:"20 causes",eventact:"mission video",eventlab:"play"})),$(".video__container__main__frame__video__iframe").empty().append('<iframe src="'+e+'" width="100%" height="540" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')},1e3),!1;window.open(twenty.videoSource,"_blank")}else $(this).hasClass("today__cta__arrow-down")?e.down():$(this).hasClass("video__container__main__frame__video__close")?($(".video__container__main__frame__video__iframe").empty(),$(".video__container__main__frame__video__iframe").removeClass("video__container__main__frame__video__iframe--visible"),$(".video__container__main__frame__video__close").removeClass("video__container__main__frame__video__close--visible"),$(".video__container__main__left").removeClass("video__container__main__left--visible"),$(".video__container__main__right").removeClass("video__container__main__right--visible"),dataLayer.push({event:"20causes",eventcat:"20 causes",eventact:"mission video",eventlab:"close"}),setTimeout(function(){$(".video__container").removeClass("video__container--visible")},1e3)):$(this).hasClass("video__container__alt__main__frame__video__close")?(dataLayer.push({event:"20causes",eventcat:"20 causes",eventact:"splash video",eventlab:"close"}),$(".video__container__alt").remove()):($(this).hasClass("menu")||$(this).hasClass("curtain"))&&($(".nav__days").toggleClass("nav__days--visible"),$(".nav__contact-us").toggleClass("nav__contact-us--visible"),$(".nav__days__up").toggleClass("nav__days__up--visible"),$(".nav__days__down").toggleClass("nav__days__down--visible"),$(".menu").toggleClass("menu--expanded"),$(".curtain").toggleClass("curtain--visible"))}),$(document).on("dragstart","img",function(e){e.preventDefault()}),$(document).on("contextmenu",function(){return!1}),$(document).on("keydown keypress",function(e){switch(e.type){case"keydown":27===e.which&&($(".video__container").hasClass("video__container--visible")?$(".video__container__main__frame__video__close").trigger("click"):$(".video__container__alt").hasClass("video__container__alt--visible")?$(".video__container__alt__main__frame__video__close").trigger("click"):document.webkitCancelFullScreen()),38===e.which&&(causeLeft.animating||causeRight.animating||(causeLeft.slidePrev(),causeRight.slideNext())),40===e.which&&(causeLeft.animating||causeRight.animating||(causeLeft.slideNext(),causeRight.slidePrev()));break;case"keypress":e.ctrlKey&&6===e.keyCode?document.documentElement.webkitRequestFullscreen():e.ctrlKey&&24===e.keyCode&&document.webkitCancelFullScreen()}}),$(window).on("load resize",function(){var e=$(".swiper__container__left").find(".swiper-slide-active").data("day");$(window).width()<=767?(FastClick.attach(document.body),$("body").addClass("mobile"),0!==e?($(".menu").addClass("menu--visible"),$(".menu").hasClass("menu--expanded")||($(".nav__contact-us").removeClass("nav__contact-us--visible"),$(".nav__days").removeClass("nav__days--visible"),$(".curtain").removeClass("curtain--visible"),$(".nav__days__up").removeClass("nav__days__up--visible"),$(".nav__days__down").removeClass("nav__days__down--visible"))):$(".menu").removeClass("menu--visible")):($("body").removeClass("mobile"),0!==e&&($(".nav__days").addClass("nav__days--visible"),$(".nav__contact-us").addClass("nav__contact-us--visible"),$(".menu").removeClass("menu--visible menu--expanded"),$(".nav__days__up").addClass("nav__days__up--visible"),$(".nav__days__down").addClass("nav__days__down--visible"))),a=$("body").hasClass("mobile")})});
//# sourceMappingURL=twenty.js.map
